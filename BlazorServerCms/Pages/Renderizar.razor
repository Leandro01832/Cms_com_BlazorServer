@page "/renderizar"
@page "/filtro/{capitulo:int}/{filtrar}/{redirecionar?}"
@page "/renderizar/{capitulo:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/substory/{capitulo:int}/{substory:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/grupo/{capitulo:int}/{substory:int}/{grupo:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/subgrupo/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/subsubgrupo/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{subsubgrupo:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/camadaseis/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{subsubgrupo:int}/{camadaseis:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/camadasete/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{subsubgrupo:int}/{camadaseis:int}/{camadasete:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/camadaoito/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{subsubgrupo:int}/{camadaseis:int}/{camadasete:int}/{camadaoito:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/camadanove/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{subsubgrupo:int}/{camadaseis:int}/{camadasete:int}/{camadaoito:int}/{camadanove:int}/{indice:int}/{auto:int}/{compartilhante}"
@page "/camadadez/{capitulo:int}/{substory:int}/{grupo:int}/{subgrupo:int}/{subsubgrupo:int}/{camadaseis:int}/{camadasete:int}/{camadaoito:int}/{camadanove:int}/{camadadez:int}/{indice:int}/{auto:int}/{compartilhante}"
@inherits RenderizarBase
@layout MeuLayout


@if(Mensagem != null)
{
    <PageTitle>@Mensagem</PageTitle>
    <h1>@Mensagem</h1>
    <br />
    <a href="#" onclick="@Casinha" class="btn btn-primary">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z" />
        </svg>
        
        </a>
}
else
{

    <a  href="#" onclick="@(() => navigation!.NavigateTo($"/Renderizar/{Model!.Story!.PaginaPadraoLink}/{anterior}/0/{compartilhante}"))" class="btn btn-primary linksPagina">
        anterior
    </a>

    <a href="#" onclick="@(() => navigation!.NavigateTo($"/Renderizar/{Model!.Story!.PaginaPadraoLink}/{proximo}/0/{compartilhante}"))" class="btn btn-primary linksPagina" >
        proximo
    </a>
    
   
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
    
     

    <div class="blocoLoader">

        <div class="col-xs-4">
            @{

                if (Model!.Story!.PaginaPadraoLink != 0)
                {
                        <PageTitle>@Model!.Story!.Nome</PageTitle>
                    <header>Story: @Model.Story.Nome</header>
                    <br />
                    <span class="capitulos">
                            <a href="#" onclick="@(() => navigation!.NavigateTo($"/Renderizar/0/{Model.Story.PaginaPadraoLink}/1/{compartilhante}"))" class="btn btn-primary">
                            Capítulo @Model.Story.PaginaPadraoLink
                        </a>
                    </span>
                }
                else
                {
                        <PageTitle>Capítulos</PageTitle>
                    <span class="capitulos">Capítulos</span>
                }
            }
        </div>

        <div class="right col-xs-8" id="Pesquisa">
            @{
                if (Model.Story.PaginaPadraoLink == 0)
                {
                    <span>Cap.</span>
                }
                else
                {
                    <span>Vers.</span>
                }
            }
                @{
                    if(substory == null)
                    {
                        <input type="number" placeholder="digita o nome" 
                               id="NumeroPaginaAcesso2" min="1" value="@indice" onchange="@((ChangeEventArgs e) => opcional = int.Parse(e.Value!.ToString()!))" />
                        <a id="acessoPaginaComInput2" href="#" onclick="@Pesquisar"
                           class="btn btn-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                            </svg>
                        </a>
                    }
            }

                <a href="#" onclick="@Casinha"  class=" btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z" />
                    </svg>
                </a>
            <br />
                <a href="#" onclick="@(() => navigation!.NavigateTo($"/Renderizar/{Model!.Story!.PaginaPadraoLink}/{anterior}/0/{compartilhante}"))" class="btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                        <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                    </svg>
                </a>

                <a href="#" onclick="@(() => navigation!.NavigateTo($"/Renderizar/{Model!.Story!.PaginaPadraoLink}/{proximo}/0/{compartilhante}"))" class="btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z" />
                        <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z" />
                    </svg>
                </a>
            <a id="message" href="#" class="btn btn-warning abrir">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                        <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                        <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z" />
                    </svg>
            </a>
            @*<a href="#" class="btn btn-primary agrupamento">
                sub-story
            </a>*@
                <a href="#" onclick="@(() => navigation!.NavigateTo($"/paginacao/1/capitulo/1/30/81/{compartilhante}"))" class="btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z" />
                        <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z" />
                        <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z" />
                    </svg>
                Listas
            </a>                           
        </div>

    </div>

    <div id="user"></div>  

     </nav> 

     
        if (Model.Story.Comentario)
        {
            <br />  <br />
            <p >@Model.Data.ToString("dd/MM/yyyy")</p>
             
              <br /> 
        }
       else if (Model.Produto == null && Model.Content != null && Model.Story.PaginaPadraoLink != 0)
        {
            <p >@Model.Data.ToString("dd/MM/yyyy")</p>

        }
    

     
    
        if(Model.Produto != null)
        {
            <div class="row container" >
                <div class="col-md-6 info">
                    <p> Categoria: @Model.Produto.Nome </p>
                            <p> Descrição: @Model.Produto.Descricao </p>
                            <p> Preço: @Model.Produto.Preco </p>
                            <p> Estoque: @Model.Produto.QuantEstoque </p>
                            <div class="col-md-12 imagens">
                                @{
                                    @foreach (var item in Model.Produto.Imagem!.ToList())
                                    {
                                        if (Model.Produto.Imagem!.ToList().IndexOf(item) != 0)
                                        {
                                            <img src="@item.ArquivoImagem" class="ImagemProduto"  />
                                        }
                                    }
                                }
                            </div>
                </div>
                <div class="col-md-6 imagem">
                <img src="@Model.Produto.Imagem!.First().ArquivoImagem" class="ImagemProduto"  />
                </div>
                
            </div>

        }
        else if(Model.ImagemContent != null)
        {  
            <center>
            <img class="ImagemContent" src="@Model.ImagemContent" >

        </center>         
        }
        else if(html!.Contains("iframe"))
        {           

            <div id="descricao" ></div>  
            <center>
            <div id="player" ></div>      

            </center> 
        }
        else
        {          
            @markup           
        }
    


      
        if (Model.Story.Comentario
        && Model.SubStory != null)
        {
        for (var i = 1; i <= classificacoes!.Length; i++)
            {
            <p>@(i)º classificação: @classificacoes![i - 1] </p>

            }
        }
        else if (Model.Story.Comentario)
        {
            <p>Comentário não classificado </p>

        }
     
     
      
        if (Model.Story.Comentario
        && Model.Comentario != null)
        {
            <p>Comentário do Capitulo @CapituloComentario Verso @VersoComentario </p>
        }
        else if (Model.Story.Comentario)
        {
            <p>Apenas um comentário </p>

        }
     

    <div id="PaginacaoConteudo" class="Paginacao">

        <center>
            <div class="Informativo">
                <h3>
                    @if (auto == 1)
                    {
                        <input type="checkbox" id="automatico" name="automatico" checked="checked" onclick="@(() =>  navigation!.NavigateTo($"/Renderizar/{Model.Story.PaginaPadraoLink}/{indice}/0/{compartilhante}"))" />
                    }
                    else
                    {
                        <input type="checkbox" id="automatico" name="automatico" onclick="@(() => navigation!.NavigateTo($"/Renderizar/{Model.Story.PaginaPadraoLink}/{indice}/1/{compartilhante}"))" />
                    }

                    Automático
                </h3>
                @{
                    if (Model.Story.Nome == "Padrao")
                    {
                        <span class="TextoInformativo">Capitulo @indice de @quantidadePaginas</span>
                    }
                    else
                    {
                        <span class="TextoInformativo">Versiculo @indice de @quantidadePaginas</span>
                    }
                }
            </div>
        
            
                      <div class="DivPagina">            
                @{
                for (var indice = 1; indice <= quantidadePaginas; indice++)
                    {
                         <div class="DivPag" id="DivPagina@(indice)">  
                                <span class="indices"><b>@indice</b> </span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="30" fill="currentColor" class="barra bi bi-dash-lg" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z" />
                            </svg>
                            </div>                                    
                    }                          
                }
            </div>           

        </center>

        <div class="progressbar">
            <div></div>
        </div>

    </div>
    

    <div id="comentario">

    </div>


    

}

<input type="text" @onkeypress="@(e=> TeclaPressionada(e))" @ref="firstInput" />





